const giveConsentButton=document.querySelector(".give-consent"),revokeConsentButton=document.querySelector(".revoke-consent"),cookiePreferences=document.querySelector(".cookie-preferences"),cookiePrefsButton=document.querySelector(".view-preferences"),applyCookiePrefs=document.querySelector(".apply-cookie-preferences"),cookieUpdatedMessage=document.querySelector(".consent-updated-message"),closeUpdatedMessage=document.getElementById("consent-close-updated-message");function updateConsentCategories(){const e=document.getElementsByClassName("category-input"),o=cookiePreferences.classList;let t=[],s=[];if(o.includes("show"))for(const o of e)o.checked?t.push(o.value):s.push(o.value);if("give-consent"===this.className){for(const e of altisConsent.categories)t.push(e);s=[]}else if("revoke-consent"===this.className){for(const e of altisConsent.categories)altisConsent.alwaysAllowCategories.includes(e)||s.push(e);t.push(...altisConsent.alwaysAllowCategories)}Array.from(new Set(t)),Array.from(new Set(s));for(const e of t)wp_set_consent(e,"allow");for(const e of s)wp_set_consent(e,"deny");o.includes("show")&&(cookiePreferences.classList.remove("show"),giveConsentButton.classList.remove("hide"),revokeConsentButton.classList.remove("hide")),document.querrySelector("consent-banner").classList.add("hide"),preferencesUpdatedMessage()}function toggleCookiePrefs(){cookiePreferences.toggle("show"),giveConsentButton.toggle("hide"),revokeConsentButton.toggle("hide")}function preferencesUpdatedMessage(){document.querySelector(".consent-updated-message").toggle("show")}giveConsentButton.addEventListener("click",updateConsentCategories),revokeConsentButton.addEventListener("click",updateConsentCategories),cookiePrefsButton&&(cookiePrefsButton.addEventListener("click",toggleCookiePrefs),applyCookiePrefs.addEventListener("click",updateConsentCategories)),closeUpdatedMessage.addEventListener("click",()=>cookieUpdatedMessage.toggle("show"));