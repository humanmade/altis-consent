const giveConsentButton=document.querySelector(".give-consent"),revokeConsentButton=document.querySelector(".revoke-consent"),cookiePreferences=document.querySelector(".cookie-preferences").classList,cookiePrefsButton=document.querySelector(".view-preferences"),applyCookiePrefs=document.querySelector(".apply-cookie-preferences"),cookieUpdatedMessage=document.querySelector(".consent-updated-message").classList,closeUpdatedMessage=document.getElementById("consent-close-updated-message");function updateConsentCategories(){const e=document.getElementsByClassName("category-input");let o=[],s=[];if(cookiePreferences&&cookiePreferences.contains("show"))for(const t of e)t.checked?o.push(t.value):s.push(t.value);if("give-consent"===this.className){for(const e of altisConsent.categories)o.push(e);s=[]}else if("revoke-consent"===this.className)for(const e of altisConsent.categories)altisConsent.alwaysAllowCategories.includes(e)||s.push(e);o.push(...altisConsent.alwaysAllowCategories),Array.from(new Set(o)),Array.from(new Set(s));for(const e of o)wp_set_consent(e,"allow");for(const e of s)wp_set_consent(e,"deny");cookiePreferences&&cookiePreferences.contains("show")&&(cookiePreferences.remove("show"),giveConsentButton.classList.remove("hide"),revokeConsentButton.classList.remove("hide")),document.querySelector(".consent-banner").classList.add("hide"),preferencesUpdatedMessage()}function toggleCookiePrefs(){const e=giveConsentButton.classList,o=revokeConsentButton.classList;cookiePreferences.toggle("show"),e.toggle("hide"),o.toggle("hide")}function preferencesUpdatedMessage(){document.querySelector(".consent-updated-message").classList.toggle("show")}giveConsentButton.addEventListener("click",updateConsentCategories),revokeConsentButton.addEventListener("click",updateConsentCategories),cookiePrefsButton&&(cookiePrefsButton.addEventListener("click",toggleCookiePrefs),applyCookiePrefs.addEventListener("click",updateConsentCategories)),closeUpdatedMessage.addEventListener("click",()=>cookieUpdatedMessage.toggle("show"));